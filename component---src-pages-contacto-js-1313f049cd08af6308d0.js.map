{"version":3,"sources":["webpack:///./src/components/contactus/contactus.js","webpack:///./src/pages/contacto.js"],"names":["ContactUs","state","form","nombre","value","isValid","isEmpty","correo","notas","isFormValid","loading","done","captcha","handleInputChange","event","inputName","target","name","inputValue","inputType","type","isInputValid","isInputEmpty","isformValid","setState","sendEmail","axios","post","headers","then","response","onVerify","recaptchaResponse","trim","search","isCaptchaSucessful","key","showForm","this","showLoading","showDone","render","className","onSubmit","handleSubmit","onChange","required","sitekey","onClick","alt","src","loadingImg","React","Component","Contacto","lang","description","title"],"mappings":"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","file":"component---src-pages-contacto-js-1313f049cd08af6308d0.js","sourcesContent":["import React from \"react\"\nimport \"./contactus.sass\"\nimport axios from 'axios';\nimport Reaptcha from 'reaptcha';\nimport loadingImg from \"../../../static/images/loading.gif\"\n\n\nclass ContactUs extends React.Component{\n\n    state = {\n        form: {\n            nombre: {value:\"\", isValid:false, isEmpty:false},\n            correo: {value:\"\", isValid:false, isEmpty:false},\n            notas: {value:\"\", isValid:false, isEmpty:false},\n        },\n        isFormValid: false,\n        loading: false,\n        done: false,\n        captcha: false\n    }\n\n    handleInputChange = event => {\n        const inputName = event.target.name\n        const inputValue = event.target.value\n        const inputType = event.target.type\n        const form = this.state.form\n\n        form[inputName].value = inputValue\n        form[inputName].isValid = this.isInputValid(inputValue,inputType)\n        form[inputName].isEmpty = this.isInputEmpty(inputValue)\n\n        const isFormValid = this.isformValid(this.state.form,this.state.captcha)\n        this.setState({form: form, isFormValid: isFormValid})\n    }\n\n    isInputValid(inputValue,inputType){\n        if(inputValue.trim()){\n            if(inputType===\"email\"){\n                const hasAnAtOnEmail = inputValue.search(\"@\")>0\n                return hasAnAtOnEmail\n            }\n            else{\n                return true\n            }\n        }\n        else{\n            return false\n        }\n    }\n\n    sendEmail = () => {\n        if(this.state.isFormValid){\n            this.setState({loading:true})\n\n            axios.post(\n                'https://0gza7dizjd.execute-api.us-west-2.amazonaws.com/PROD/SendEmail'+\n                '?name='+this.state.form.nombre.value+'&message='+this.state.form.notas.value\n                +'&targetAddress=fpgm14@yahoo.es&email='+this.state.form.correo.value,\n                {\n                'name': this.state.form.nombre.value,\n                'message': this.state.form.notas.value,\n                'targetAddress': 'fpgm14@yahoo.es',\n                'email': this.state.form.correo.value,\n            }\n            ,\n                { headers: { 'Content-Type': 'application/json' } }\n            ).then((response) =>{\n                this.setState({\n                done: true,\n                loading: false\n                });\n            })\n        }\n    }\n\n    isformValid(form,isCaptchaSucessful){\n        let isValid = true\n        for (let key in form) {\n            isValid = isValid && form[key].isValid\n        }\n        isValid = isValid && isCaptchaSucessful\n        return isValid\n    }\n\n    isInputEmpty(inputValue){\n        if(inputValue.trim()){\n            return true\n        }\n        else{\n            return false\n        }\n    }\n\n    onVerify = recaptchaResponse => {\n        const form = this.state.form\n        const isFormValid = this.isformValid(form,true)\n        this.setState({isFormValid: isFormValid, captcha: true})\n    };\n\n    showForm(){\n        return !this.state.loading && !this.state.done\n    }\n\n    showLoading(){\n        return this.state.loading && !this.state.done\n    }\n\n    showDone(){\n        return !this.state.loading && this.state.done\n    }\n\n    render (){\n        return (\n        <div className=\"contactus\">\n            <div className=\"contactus__title-wrap\">\n                <div className=\"contactus__alert\">\n                    <p className=\"contactus__alert-important\">!</p>\n                    <p> Recuerda usar este formulario para preguntar respecto a nuestros servicios. No se responderán consultas médicas por este medio.</p>\n                </div>\n                <h3 className=\"contactus__title\">Contáctanos</h3>\n            </div>\n            <div className={this.showForm()?\"contactus__form-container\":\"contactus__display-none\"}>\n                <form onSubmit={this.handleSubmit}>\n                    <div className=\"contactus__input-wrap\">\n                        <input\n                            className={this.state.form.nombre.isEmpty?\"contactus__input contactus__input-valid\":\"contactus__input\"}\n                            type=\"text\"\n                            name=\"nombre\"\n                            value={this.state.form.nombre.value}\n                            onChange={this.handleInputChange}\n                            required\n                        >\n                        </input>\n                        <label className={this.state.form.nombre.isEmpty?\"contactus__label contactus__label-valid\":\"contactus__label\"}>Nombre</label>\n                    </div>\n                    <div className=\"contactus__input-wrap\">\n                        <input\n                            className={this.state.form.correo.isEmpty?\"contactus__input contactus__input-valid\":\"contactus__input\"}\n                            type=\"email\"\n                            name=\"correo\"\n                            value={this.state.form.correo.value}\n                            onChange={this.handleInputChange}\n                            required\n                        ></input>\n                        <label className={this.state.form.correo.isEmpty?\"contactus__label contactus__label-valid\":\"contactus__label\"}>Correo</label>\n                    </div>\n                    <div className=\"contactus__input-wrap\">\n                        <textarea\n                            className={this.state.form.notas.isEmpty?\"contactus__input contactus__input-valid\":\"contactus__input\"}\n                            type=\"text\"\n                            name=\"notas\"\n                            value={this.state.form.notas.value}\n                            onChange={this.handleInputChange}\n                            required\n                        ></textarea>\n                        <label className={this.state.form.notas.isEmpty?\"contactus__label contactus__label-valid\":\"contactus__label\"}>Comentarios</label>\n                    </div>\n                </form>\n                <Reaptcha className=\"contactus__recaptcha\" sitekey=\"6Ld5c2YUAAAAAC6y_aK9bE43TOB552ZPcCRG-Kzc\" onVerify={this.onVerify}/>\n                <button onClick={this.sendEmail}\n                            className={this.state.isFormValid?\"contactus__submit-button contactus__submit-button-enabled\":\n                                                              \"contactus__submit-button contactus__submit-button-disabled\"}\n\n                    >Submit</button>\n            </div>\n            <div className={this.showLoading()?\"contactus__loading\":\"contactus__display-none\"}>\n                <img className=\"header__title-flower\" alt=\"cargando\" src={loadingImg}></img>\n            </div>\n            <div className={this.showDone()?\"contactus__done\":\"contactus__display-none\"}>\n                <h3 className=\"contactus__thankyou\">Muchas gracias por contactarme!</h3>\n                <div className=\"contactus__thankyousub\">Tu correo se ha enviado exitosamente y me pondré en contacto pronto. </div>\n            </div>\n        </div>\n        )\n\n    }\n}\n\nexport default ContactUs\n","import React from \"react\"\n\nimport Layout from \"../components/layout/layout\"\nimport SEO from \"../components/seo\"\nimport ContactUs from \"../components/contactus/contactus\"\n\nconst Contacto = () => (\n  <Layout>\n    <SEO lang=\"es\" description=\"Contacto\" title=\"Contacto\" />\n    <ContactUs></ContactUs>\n  </Layout>\n)\n\nexport default Contacto\n"],"sourceRoot":""}