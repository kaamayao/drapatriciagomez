{"version":3,"sources":["webpack:///./src/components/scheduledate/scheduledate.js","webpack:///./src/pages/apartarcita.js"],"names":["ScheduleDate","state","form","nombre","value","isValid","isEmpty","telefono","correo","motivo","notas","isFormValid","loading","done","captcha","handleInputChange","event","inputName","target","name","inputValue","inputType","type","isInputValid","isInputEmpty","isformValid","setState","sendEmail","axios","post","headers","then","response","onVerify","recaptchaResponse","trim","search","isCaptchaSucessful","key","showForm","this","showLoading","showDone","render","className","onSubmit","handleSubmit","onChange","required","sitekey","onClick","alt","src","React","Component","Contacto","lang","description","title"],"mappings":"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","file":"component---src-pages-apartarcita-js-7b56e936fa54560a4714.js","sourcesContent":["import React from \"react\"\nimport \"./scheduledate.sass\"\nimport axios from 'axios';\nimport Reaptcha from 'reaptcha';\n\nclass ScheduleDate extends React.Component{\n\n    state = {\n        form: {\n            nombre: {value:\"\", isValid:false, isEmpty:false},\n            telefono: {value:\"\", isValid:false, isEmpty:false},\n            correo: {value:\"\", isValid:false, isEmpty:false},\n            motivo: {value:\"\", isValid:false, isEmpty:false},\n            notas: {value:\"\", isValid:false, isEmpty:false},\n        },\n        isFormValid: false,\n        loading: false,\n        done: false,\n        captcha: false\n    }\n\n    handleInputChange = event => {\n        const inputName = event.target.name\n        const inputValue = event.target.value\n        const inputType = event.target.type\n        const form = this.state.form\n\n        form[inputName].value = inputValue\n        form[inputName].isValid = this.isInputValid(inputValue,inputType)\n        form[inputName].isEmpty = this.isInputEmpty(inputValue)\n\n        const isFormValid = this.isformValid(this.state.form,this.state.captcha)\n        this.setState({form: form, isFormValid: isFormValid})\n    }\n\n    isInputValid(inputValue,inputType){\n        if(inputValue.trim()){\n            if(inputType===\"email\"){\n                const hasAnAtOnEmail = inputValue.search(\"@\")>0\n                return hasAnAtOnEmail\n            }\n            else{\n                return true\n            }\n        }\n        else{\n            return false\n        }\n    }\n\n    sendEmail = () => {\n        if(this.state.isFormValid){\n            this.setState({loading:true})\n\n            axios.post(\n                'https://0gza7dizjd.execute-api.us-west-2.amazonaws.com/PROD/SendEmail'+\n                '?name='+this.state.form.nombre.value+'&message='+this.state.form.notas.value\n                +'&targetAddress=fpgm14@yahoo.es&email='+this.state.form.correo.value + \". Teléfono:\" + this.state.form.telefono.value+\". Motivo:\"+ this.state.form.motivo.value,\n                {\n                'name': this.state.form.nombre.value,\n                'message': this.state.form.notas.value,\n                'targetAddress': 'fpgm14@yahoo.es',\n                'email': this.state.form.correo.value + \"<br>Teléfono:\" + this.state.form.telefono.value+\"<br>Motivo\"+this.state.form.motivo.value,\n            }\n            ,\n                { headers: { 'Content-Type': 'application/json' } }\n            ).then((response) =>{\n                this.setState({\n                done: true,\n                loading: false\n                });\n            })\n        }\n    }\n\n    isformValid(form,isCaptchaSucessful){\n        let isValid = true\n        for (let key in form) {\n            isValid = isValid && form[key].isValid\n        }\n        isValid = isValid && isCaptchaSucessful\n        return isValid\n    }\n\n    isInputEmpty(inputValue){\n        if(inputValue.trim()){\n            return true\n        }\n        else{\n            return false\n        }\n    }\n\n    onVerify = recaptchaResponse => {\n        const form = this.state.form\n        const isFormValid = this.isformValid(form,true)\n        this.setState({isFormValid: isFormValid, captcha: true})\n    };\n\n    showForm(){\n        return !this.state.loading && !this.state.done\n    }\n\n    showLoading(){\n        return this.state.loading && !this.state.done\n    }\n\n    showDone(){\n        return !this.state.loading && this.state.done\n    }\n\n    render (){\n        return (\n        <div className=\"scheduleddate\">\n            <div className={this.showForm()?\"scheduleddate__form-container\":\"scheduleddate__display-none\"}>\n\n                <div className=\"scheduleddate__title-wrap\">\n                    <div className=\"scheduleddate__alert\">\n                        <p className=\"scheduleddate__alert-important\">!</p>\n                        <p> Recuerda usar este formulario para apartar citas. No se responderán consultas médicas por este medio.</p>\n                    </div>\n                    <h3 className=\"scheduleddate__title\">Aparta tu cita</h3>\n                </div>\n\n                <form onSubmit={this.handleSubmit}>\n                    <div className=\"scheduleddate__input-wrap\">\n                        <input\n                            className={this.state.form.nombre.isEmpty?\"scheduleddate__input scheduleddate__input-valid\":\"scheduleddate__input\"}\n                            type=\"text\"\n                            name=\"nombre\"\n                            value={this.state.form.nombre.value}\n                            onChange={this.handleInputChange}\n                            required\n                        >\n                        </input>\n                        <label className={this.state.form.nombre.isEmpty?\"scheduleddate__label scheduleddate__label-valid\":\"scheduleddate__label\"}>Nombre</label>\n                    </div>\n                    <div className=\"scheduleddate__input-wrap\">\n                        <input\n                            className={this.state.form.telefono.isEmpty?\"scheduleddate__input scheduleddate__input-valid\":\"scheduleddate__input\"}\n                            type=\"text\"\n                            name=\"telefono\"\n                            value={this.state.form.telefono.value}\n                            onChange={this.handleInputChange}\n                            required\n                        >\n                        </input>\n                        <label className={this.state.form.telefono.isEmpty?\"scheduleddate__label scheduleddate__label-valid\":\"scheduleddate__label\"}>Teléfono</label>\n                    </div>\n                    <div className=\"scheduleddate__input-wrap\">\n                        <input\n                            className={this.state.form.correo.isEmpty?\"scheduleddate__input scheduleddate__input-valid\":\"scheduleddate__input\"}\n                            type=\"email\"\n                            name=\"correo\"\n                            value={this.state.form.correo.value}\n                            onChange={this.handleInputChange}\n                            required\n                        ></input>\n                        <label className={this.state.form.correo.isEmpty?\"scheduleddate__label scheduleddate__label-valid\":\"scheduleddate__label\"}>Correo</label>\n                    </div>\n                    <div className=\"scheduleddate__input-wrap\">\n                        <input\n                            className={this.state.form.motivo.isEmpty?\"scheduleddate__input scheduleddate__input-valid\":\"scheduleddate__input\"}\n                            type=\"text\"\n                            name=\"motivo\"\n                            value={this.state.form.motivo.value}\n                            onChange={this.handleInputChange}\n                            required\n                        ></input>\n                        <label className={this.state.form.motivo.isEmpty?\"scheduleddate__label scheduleddate__label-valid\":\"scheduleddate__label\"}>Motivo</label>\n                    </div>\n                    <div className=\"scheduleddate__input-wrap\">\n                        <textarea\n                            className={this.state.form.notas.isEmpty?\"scheduleddate__input scheduleddate__input-valid\":\"scheduleddate__input\"}\n                            type=\"text\"\n                            name=\"notas\"\n                            value={this.state.form.notas.value}\n                            onChange={this.handleInputChange}\n                            required\n                        ></textarea>\n                        <label className={this.state.form.notas.isEmpty?\"scheduleddate__label scheduleddate__label-valid\":\"scheduleddate__label\"}>Comentarios</label>\n                    </div>\n                </form>\n                <Reaptcha className=\"scheduleddate__recaptcha\" sitekey=\"6Ld5c2YUAAAAAC6y_aK9bE43TOB552ZPcCRG-Kzc\" onVerify={this.onVerify}/>\n                <button onClick={this.sendEmail}\n                            className={this.state.isFormValid?\"scheduleddate__submit-button scheduleddate__submit-button-enabled\":\n                                                              \"scheduleddate__submit-button scheduleddate__submit-button-disabled\"}\n\n                    >Submit</button>\n            </div>\n            <div className={this.showLoading()?\"scheduleddate__loading\":\"scheduleddate__display-none\"}>\n                <img className=\"header__title-flower\" alt=\"cargando\" src={'images/loading.gif'}></img>\n            </div>\n            <div className={this.showDone()?\"scheduleddate__done\":\"scheduleddate__display-none\"}>\n                <h3 className=\"scheduleddate__thankyou\">Muchas gracias por contactarme!</h3>\n                <div className=\"scheduleddate__thankyousub\">Tu correo se ha enviado exitosamente y me pondré en contacto pronto. </div>\n            </div>\n        </div>\n        )\n\n    }\n}\n\nexport default ScheduleDate\n","import React from \"react\"\n\nimport Layout from \"../components/layout/layout\"\nimport SEO from \"../components/seo\"\nimport ScheduleDate from \"../components/scheduledate/scheduledate\"\n\nconst Contacto = () => (\n  <Layout>\n    <SEO lang=\"es\" description=\"Contacto\" title=\"Contacto\" />\n    <ScheduleDate></ScheduleDate>\n  </Layout>\n)\n\nexport default Contacto\n"],"sourceRoot":""}